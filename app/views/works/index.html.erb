<h1>List of works </h1>

<!-- TODO: What to display when there are none of that sub-category -->

<% work_headers = ["Votes", "Title", "Created By", "Published", "Upvote"] %>

<% if @works.count < 1 %>
  <p>
    No media yet
  </p>
<% end %>

<% albums = @works.where(category: "album")%>
<section class = "albums-table">
  <h2>Albums</h2>
  <table>
    <tr>
      <% work_headers.each do |header| %>
      <th><%= header %></th>
      <% end %>
    </tr>
    <% albums.each do |album| %>
    <tr>
      <% work_headers.each do |key| %>
      <td>
        <% if key == "Votes" %>
          <%= "This will be # of votes" %>
        <% elsif key == "Title" %>
          <%= "#{album.title}" %>
        <% elsif key == "Created By" %>
          <%= "#{album.creator}"%>
        <% elsif key == "Published" %>
          <%= "#{album.publication_year}" %>
        <% elsif key == "Upvote" %>
          <%= "This will be a button" %>
        <% end %>
      </td>
      <% end %>
    </tr>
    <% end %>
  </table>
</section>

<% books = @works.where(category: "book")%>

<section class = "books-table">
  <h2>Books</h2>
  <table>
    <tr>
      <% work_headers.each do |header| %>
      <th><%= header %></th>
      <% end %>
    </tr>
    <% books.each do |book| %>
    <tr>
      <% work_headers.each do |key| %>
      <td>
        <% if key == "Votes" %>
          <%= "This will be # of votes" %>
        <% elsif key == "Title" %>
          <%= "#{book.title}" %>
        <% elsif key == "Created By" %>
          <%= "#{book.creator}"%>
        <% elsif key == "Published" %>
          <%= "#{book.publication_year}" %>
        <% elsif key == "Upvote" %>
          <%= "This will be a button" %>
        <% end %>
      </td>
      <% end %>
    </tr>
    <% end %>
  </table>
</section>

<% movies = @works.where(category: "movie")%>

<section class = "movies-table">
  <h2>Movies</h2>
  <table>
    <tr>
      <% work_headers.each do |header| %>
      <th><%= header %></th>
      <% end %>
    </tr>
    <% movies.each do |movie| %>
    <tr>
      <% work_headers.each do |key| %>
      <td>
        <% if key == "Votes" %>
          <%= "This will be # of votes" %>
        <% elsif key == "Title" %>
          <%= "#{movie.title}" %>
        <% elsif key == "Created By" %>
          <%= "#{movie.creator}"%>
        <% elsif key == "Published" %>
          <%= "#{movie.publication_year}" %>
        <% elsif key == "Upvote" %>
          <%= "This will be a button" %>
        <% end %>
      </td>
      <% end %>
    </tr>
    <% end %>
  </table>

</section>


<!-- <ul>
  <% @works.each do |work|%>
  <li>
    <%= "#{work.title}, #{work.creator}, #{work.category}" %>
  </li>
  <%end %>
</ul> -->
