<h2>List of works</h2>

<h3>Albums</h3>
<% if @albums.count == 0 %>
  <p>Nothing to show yet!</p>
<% else %>
  <table>
    <tr>
      <th scope="columns">Votes</th>
      <th scope="columns">Title</th>
      <th scope="columns">Created By</th>
      <th scope="columns">Published</th>
      <th scope="columns">Upvote</th>
    </tr>
    <%  @albums.each do |album| %>
      <tr>
        <td><%= album.number_of_vote %></td>
        <td><%= link_to(album.title, work_path(album.id)) %></td>
        <td><%= album.creator %></td>
        <td><%= album.publication_year %></td>
        <td><%= button_to("Upvote", votes_path(:pass_work_id => album.id), method: :post) %></td>
      </tr>
    <%  end %>
  </table>
<% end %>

<h3>Books</h3>
<% if @books.count == 0 %>
  <p>Nothing to show yet!</p>
<% else %>
  <table>
    <tr>
      <th scope="columns">Votes</th>
      <th scope="columns">Title</th>
      <th scope="columns">Created By</th>
      <th scope="columns">Published</th>
      <th scope="columns">Upvote</th>
    </tr>
    <%  @books.each do |book| %>
      <tr>
        <td><%= book.number_of_vote %></td>
        <td><%= link_to(book.title, work_path(book.id)) %></td>
        <td><%= book.creator %></td>
        <td><%= book.publication_year %></td>
        <td><%= button_to("Upvote", votes_path(:pass_work_id => book.id), method: :post) %></td>
      </tr>
    <%  end %>
  </table>
<% end %>

<h3>Movies</h3>
<% if @movies.count == 0 %>
  <p>Nothing to show yet!</p>
<% else %>
  <table>
    <tr>
      <th scope="columns">Votes</th>
      <th scope="columns">Title</th>
      <th scope="columns">Created By</th>
      <th scope="columns">Published</th>
      <th scope="columns">Upvote</th>
    </tr>
    <%  @movies.each do |movie| %>
      <tr>
        <td><%= movie.number_of_vote %></td>
        <td><%= link_to(movie.title, work_path(movie.id)) %></td>
        <td><%= movie.creator %></td>
        <td><%= movie.publication_year %></td>
        <td><%= button_to("Upvote", votes_path(:pass_work_id => movie.id), method: :post) %></td>
      </tr>
    <%  end %>
  </table>
<% end %>

<%= button_to("View top media", root_path, method: :get) %>
<%= button_to("Add a new work", new_work_path, method: :get) %>
